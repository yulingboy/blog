```js
// 分页查询用户列表
exports.users = async (req,res)=>{
    try{
        // 接收客户端传来的当前页参数
        let pageNum = +req.query.pageNum || 1;
        // 每一页显示的数据条数
        let pageSize = +req.query.pageSize || 10;
        // 查询用户数据的总数
        let total = await User.countDocuments({});
        //总页数
        let pageCount = Math.ceil(total / pageSize);
        //页码对应的数据查询开始位置
        let start = (pageNum - 1) * pageSize;
        // 从数据库中查询用户
        await User.find({}).limit(pageSize).skip(start).then((data)=>{
            return res.send({
                meta: { code: 1000, message: '获取成功' },
                data: data,
                pagition:{
                    pageNum: pageNum,  // 当前页
                    total: total, // 数据总数
                    pageSize: pageSize, // 每页条数
                    pageCount: pageCount, // 页数
                  }
              });
        }).catch(err=>{
            return res.send({
                meta: { code: 1001, message: err.message },
                data: null,
              });
        })
    }catch(err){
        return res.send({
            meta: { code: 1001, message: err.message },
            data: null,
          });
    }
}

```

